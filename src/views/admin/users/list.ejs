<div class="min-h-screen bg-slate-50 dark:bg-slate-900">
	<!-- Header -->
	<header class="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
			<h1 class="text-3xl font-bold text-slate-900 dark:text-white">User Management</h1>
			<p class="text-slate-600 dark:text-slate-400 mt-2">
				Manage all users in the system
			</p>
		</div>
	</header>

	<!-- Main Content -->
	<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
		<!-- Stats -->
		<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
			<div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6">
				<div class="text-sm text-slate-600 dark:text-slate-400 mb-1">Total Users</div>
				<div class="text-3xl font-bold text-slate-900 dark:text-white"><%= totalCount %></div>
			</div>
			<div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6">
				<div class="text-sm text-slate-600 dark:text-slate-400 mb-1">Current Page</div>
				<div class="text-3xl font-bold text-slate-900 dark:text-white"><%= currentPage %> / <%= totalPages %></div>
			</div>
			<div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6">
				<div class="text-sm text-slate-600 dark:text-slate-400 mb-1">Users on Page</div>
				<div class="text-3xl font-bold text-slate-900 dark:text-white"><%= users.length %></div>
			</div>
		</div>

		<!-- Users Table -->
		<div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden">
			<div class="overflow-x-auto">
				<table class="w-full">
					<thead class="bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700">
						<tr>
							<th class="px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider">
								User
							</th>
							<th class="px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider">
								Status
							</th>
							<th class="px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider">
								Activity
							</th>
							<th class="px-6 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider">
								Joined
							</th>
							<th class="px-6 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-400 uppercase tracking-wider">
								Actions
							</th>
						</tr>
					</thead>
					<tbody class="divide-y divide-slate-200 dark:divide-slate-700">
						<% users.forEach(user => { %>
							<tr class="hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors">
								<td class="px-6 py-4 whitespace-nowrap">
									<div class="flex items-center">
										<div>
											<div class="font-medium text-slate-900 dark:text-white">
												<%= user.displayName || user.username %>
												<% if (user.isAdmin) { %>
													<span class="ml-2 px-2 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full">Admin</span>
												<% } %>
											</div>
											<div class="text-sm text-slate-600 dark:text-slate-400">
												@<%= user.username %> â€¢ <%= user.email %>
											</div>
										</div>
									</div>
								</td>
								<td class="px-6 py-4 whitespace-nowrap">
									<div class="flex flex-col gap-1">
										<% if (user.isActive) { %>
											<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300">
												Active
											</span>
										<% } else { %>
											<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300">
												Inactive
											</span>
										<% } %>
										<% if (!user.emailVerified) { %>
											<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300">
												Unverified
											</span>
										<% } %>
									</div>
								</td>
								<td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400">
									<div><%= user._count.weightEntries %> entries</div>
									<div><%= user._count.teamMemberships %> teams</div>
									<div><%= user._count.posts %> posts</div>
								</td>
								<td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600 dark:text-slate-400">
									<%= new Date(user.createdAt).toLocaleDateString() %>
								</td>
								<td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
									<a href="/admin/users/<%= user.id %>" class="text-blue-600 dark:text-blue-400 hover:underline">
										View Details
									</a>
								</td>
							</tr>
						<% }) %>
					</tbody>
				</table>
			</div>

			<!-- Pagination -->
			<% if (totalPages > 1) { %>
				<div class="bg-slate-50 dark:bg-slate-900/50 px-6 py-3 border-t border-slate-200 dark:border-slate-700">
					<div class="flex items-center justify-between">
						<div class="text-sm text-slate-600 dark:text-slate-400">
							Page <%= currentPage %> of <%= totalPages %>
						</div>
						<div class="flex gap-2">
							<% if (currentPage > 1) { %>
								<a href="/admin/users?page=<%= currentPage - 1 %>"
								   class="px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors">
									Previous
								</a>
							<% } %>
							<% if (currentPage < totalPages) { %>
								<a href="/admin/users?page=<%= currentPage + 1 %>"
								   class="px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors">
									Next
								</a>
							<% } %>
						</div>
					</div>
				</div>
			<% } %>
		</div>
	</main>
</div>
