<%# Achievement Celebration Modal %>
<div x-data="achievementCelebration()" x-show="currentAchievement" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm" x-cloak>
	<div
		x-show="currentAchievement"
		x-transition:enter="transition ease-out duration-500"
		x-transition:enter-start="opacity-0 scale-75"
		x-transition:enter-end="opacity-100 scale-100"
		x-transition:leave="transition ease-in duration-300"
		x-transition:leave-start="opacity-100 scale-100"
		x-transition:leave-end="opacity-0 scale-75"
		class="relative max-w-md w-full mx-4"
	>
		<div class="bg-linear-to-br from-yellow-50 to-amber-50 rounded-2xl shadow-2xl border-4 border-yellow-400 p-8 text-center">
			<!-- Trophy Icon -->
			<div class="flex justify-center mb-4">
				<div class="bg-linear-to-br from-yellow-400 to-amber-500 rounded-full p-6 shadow-lg transform hover:scale-110 transition-transform duration-300">
					<svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 20 20">
						<path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"></path>
					</svg>
				</div>
			</div>

			<!-- Achievement Title -->
			<h2 class="text-3xl font-bold text-amber-900 mb-2">Achievement Unlocked!</h2>

			<!-- Achievement Name -->
			<div class="text-2xl font-bold text-amber-700 mb-2" x-text="currentAchievement?.name"></div>

			<!-- Achievement Description -->
			<p class="text-amber-800 mb-4" x-text="currentAchievement?.description"></p>

			<!-- Points Badge -->
			<div class="inline-flex items-center gap-2 bg-amber-500 text-white px-6 py-2 rounded-full font-bold text-lg shadow-lg mb-6">
				<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
					<path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
				</svg>
				<span x-text="currentAchievement?.points + ' Points'"></span>
			</div>

			<!-- Close Button -->
			<button
				@click="closeAchievement()"
				class="w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-lg transition-colors shadow-lg"
			>
				Awesome!
			</button>
		</div>
	</div>
</div>

<!-- Confetti Canvas -->
<canvas id="confetti-canvas" class="fixed inset-0 pointer-events-none z-50" width="1920" height="1080"></canvas>
